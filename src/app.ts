import Discord from 'discord.js';
import {Managers} from "./lib/libaries";
import {EventManager, CommandManager, GuildManager} from "./managers/Managers";
import SQL from "./lib/SQL";

const config = require("../config.json");

const client = new Discord.Client({ shards: "auto", intents: [Discord.Intents.FLAGS.GUILDS]});

// Global Managers
Managers.DiscordClient = client;
Managers.Config = config;

// Event Manager
Managers.EventManager = new EventManager("./events");

// Command Manager
Managers.CommandManager = new CommandManager("./commands");

// Guild Manager
Managers.GuildManager = new GuildManager(client);

// SQL Manager
Managers.SQL = new SQL();

client.login(config.isDev?config.tokens.dev:config.tokens.production);