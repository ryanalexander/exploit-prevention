import { Command, Managers } from "../../lib/libaries";
import { GuildMember, Message } from "discord.js";

module.exports = class extends Command {
  constructor() {
    super({
      name: "raid",
      aliases: ["raidprevention", "raidprot"],
      description: "Last resort in the event of a raid",
      category: "admin",
      requiredPerms: ["MANAGE_GUILD"],
      requiredModules: ["raidprevention"],
    });
    this._execute = this.execute;
  }

  async execute(_member: GuildMember, _content: string, _message: Message) {
    let guild;
    let target = _message.guild;
    guild = await Managers.DiscordClient.guilds.fetch(target);

    console.log(guild);

    /*

    Managers.DiscordClient.guilds
      .fetch("909724713020973066")
      .then(async (guild: Guild) => {
        let members = await guild.members.fetch();
        members.map((member: GuildMember) => {
          if (member.user.username.indexOf("Darkky") > -1) {
            console.log(`Banning ${member.user.username}`);
            member.ban();
          }
        });
      });
     */

    /*
     * - CATEGORIZE
     */
  }
};
