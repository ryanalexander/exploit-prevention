import {Command, Managers} from '../../lib/libaries';
import {GuildMember, Message, MessageEmbed} from 'discord.js';

module.exports = class extends Command {
    constructor() {
        super({
            name: "dev",
            aliases: [],
            description: "Dev sheit",
            category: "dev"
        });
        this._execute = this.execute;
    }

    async execute(_member: GuildMember, _content: string, _message: Message) {
        let embed = new MessageEmbed();
        let args = _content.split(" ");

        if(_member.user.id !== "317236321099710467") return;

        switch (args[1].toUpperCase()) {
            case "SETPREMIUM":
                if(await Managers.GuildManager.setPremium(_message.guild, Boolean(args[2]))) {
                    embed.setDescription("Premium set to "+Boolean(args[2]))
                }else {
                    embed.setDescription("Something broke")
                }
                break;
        }

        _message.channel.send(embed);
    };

}