import { Member as MemberI } from "./types";
import { SyrusInvite } from "./SyrusInvite";
import { SyrusUser } from "./SyrusUser";

export class SyrusMember {
  get discordTag(): number {
    return this._discordTag;
  }
  get discordName(): string {
    return this._discordName;
  }
  get lastJoin(): number {
    return this._lastJoin;
  }
  get firstJoin(): number {
    return this._firstJoin;
  }
  get inviteUsed(): SyrusInvite {
    return this._inviteUsed;
  }
  get invitedBy(): SyrusMember {
    return this._invitedBy;
  }
  get user(): SyrusUser {
    return this._user;
  }
  get id(): number {
    return this._id;
  }

  private readonly _id: number;

  private readonly _user: SyrusUser;

  private readonly _invitedBy: SyrusMember;
  private readonly _inviteUsed: SyrusInvite;

  private readonly _firstJoin: number;
  private readonly _lastJoin: number;

  private readonly _discordName: string;
  private readonly _discordTag: number;

  constructor(member: MemberI) {
    this._id = member.id;

    this._user = member.user;

    this._invitedBy = member.invite.creator;
    this._inviteUsed = member.invite;

    this._firstJoin = member.first_join;
    this._lastJoin = member.last_join;

    this._discordName = member.user.tag.name;
    this._discordTag = member.user.tag.discriminator;
  }
}
