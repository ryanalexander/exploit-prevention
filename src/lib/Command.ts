import { PermissionResolvable } from "discord.js";

module.exports = class {
  constructor(opts: any) {
    this._name = opts.name;
    if (opts.requiredModules) this._requiredModules = opts.requiredModules;
    if (opts.requiredPerms) this._requiredPerms = opts.requiredPerms;
    this._execute = () => {};
  }

  private _name: any;

  get name(): any {
    return this._name;
  }

  private _guild: any;

  get guild(): any {
    return this._guild;
  }

  public _execute: any;

  get execute(): any {
    return this._execute;
  }

  public _requiredModules: any[] = [];

  get requiredModules(): any {
    return this._requiredModules;
  }

  public _requiredPerms: PermissionResolvable[] = [];

  get requiredPerms(): any {
    return this._requiredPerms;
  }

  handle(message: any, guild: any) {
    this._guild = guild;
    this._execute(message.member || message.author, message.content, message);
  }
};
