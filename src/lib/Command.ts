import {PermissionResolvable} from "discord.js";

module.exports = class {
    get execute(): any {
        return this._execute;
    }
    get name(): any {
        return this._name;
    }
    get guild(): any {
        return this._guild;
    }
    get requiredModules(): any {
        return this._requiredModules;
    }
    get requiredPerms(): any {
        return this._requiredPerms;
    }
    private _name: any;
    private _guild: any;
    public _execute: any;
    public _requiredModules: any[] = [];
    public _requiredPerms: PermissionResolvable[] = [];

    constructor(opts: any) {
        this._name = opts.name;
        if(opts.requiredModules)
            this._requiredModules = opts.requiredModules;
        if(opts.requiredPerms)
            this._requiredPerms = opts.requiredPerms;
        this._execute = ()=>{

        }
    }

    handle(message: any, guild: any) {
        this._guild = guild;
        this._execute(message.member || message.author, message.content, message);
    }

}